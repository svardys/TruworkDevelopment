<template>
    <!-- My Slider -->
    <div id="home" class="slider relative shadow-xl sm:overflow-hidden h-screen">
        <div id="slider-items" class="slider-items">
            <!-- My Slider Item -->
            <div class="slider-item">
                <div class="relative h-full w-full">
                    <img class="h-full w-full object-cover"
                         src="/storage/images/initialize/kitchen1.jpg"
                         alt="kuchyně"/>
                    <div class="absolute inset-0 bg-indigo-300 mix-blend-multiply"/>
                    <div class="absolute inset-0 m-auto h-52">
                        <h1 class="text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
                            <span class="block text-white">TRUWORK</span>
                            <span class="block text-indigo-200">Stolařství</span>
                        </h1>
                        <p class="mt-6 max-w-lg mx-auto text-center text-xl text-indigo-200 sm:max-w-3xl">
                            Masivní dřevo, špičková řemeslná práce a individuální přístup je to,co dělá kuchyně Truwork naprosto výjimečnými.
                        </p>
                        <div class="mt-10 mx-5 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center">
                            <a href="#contact-as"
                               class="flex items-center justify-center px-2 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-800 bg-white hover:bg-indigo-50 sm:px-8">
                                Kontaktujte nás
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Slider Item -->
            <!-- My Slider Item -->
            <div class="slider-item">
                <div class="relative h-full w-full">
                    <img class="h-full w-full object-cover"
                         src="/storage/images/initialize/kitchen2.jpg"
                         alt="kuchyně"/>
                    <div class="absolute inset-0 bg-indigo-300 mix-blend-multiply"/>
                    <div class="absolute inset-0 m-auto h-52">
                        <h1 class="text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
                            <span class="block text-white">TRUWORK</span>
                            <span class="block text-indigo-200">Stolařství</span>
                        </h1>
                        <p class="mt-6 max-w-lg mx-auto text-center text-xl text-indigo-200 sm:max-w-3xl">
                            Masivní dřevo, špičková řemeslná práce a individuální přístup je to,co dělá kuchyně Truwork naprosto výjimečnými.
                        </p>
                        <div class="mt-10 mx-5 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center">
                            <a href="#contact-as"
                               class="flex items-center justify-center px-2 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-800 bg-white hover:bg-indigo-50 sm:px-8">
                                Kontaktujte nás
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Slider Item -->
            <!-- My Slider Item -->
            <div class="slider-item">
                <div class="relative h-full w-full">
                    <img class="h-full w-full object-cover"
                         src="/storage/images/initialize/kitchen3.jpg"
                         alt="kuchyně"/>
                    <div class="absolute inset-0 bg-indigo-300 mix-blend-multiply"/>
                    <div class="absolute inset-0 m-auto h-52">
                        <h1 class="text-center text-4xl font-extrabold tracking-tight sm:text-5xl lg:text-6xl">
                            <span class="block text-white">TRUWORK</span>
                            <span class="block text-indigo-200">Stolařství</span>
                        </h1>
                        <p class="mt-6 max-w-lg mx-auto text-center text-xl text-indigo-200 sm:max-w-3xl">
                            Masivní dřevo, špičková řemeslná práce a individuální přístup je to,co dělá kuchyně Truwork naprosto výjimečnými.
                        </p>
                        <div class="mt-10 mx-5 max-w-sm mx-auto sm:max-w-none sm:flex sm:justify-center">
                            <a href="#contact-as"
                               class="flex items-center justify-center px-2 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-indigo-800 bg-white hover:bg-indigo-50 sm:px-8">
                                Kontaktujte nás
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Slider Item -->
        </div>
    </div>
    <!-- End Slider -->
    <div class="relative bg-mycolor pt-10 pb-32 overflow-hidden">
        <section id="about-us" class="opacity-0 transition-all sm:duration-4000 duration-2000">
            <div class="bg-mycolor">
                <div class="max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h1 class="mt-10 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
                            Stylové kuchyně na zakázku</h1>
                        <p class="max-w-xl mt-5 mx-auto text-xl text-gray-500">Vyrábíme kvalitní kuchyňský nábytek z
                            masivu v tradičním i moderním vzhledu. Každý kus je ručne vyrobeným a lakovaným originálem,
                            který se stane ozdobou každého interiéru. Řemeslná zručnost, preciznost a osobní přístup je
                            zárukou nejvyšší kvality a spokojenosti zákazníka.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="content">
            <div id="mykitchens" class="relative mt-10 opacity-0 transition sm:duration-4000 duration-2000">
                <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
                    <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-16 lg:max-w-none lg:mx-0 lg:px-0">
                        <div>
                            <div class="mt-6">
                                <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
                                    Kuchyně na míru
                                </h2>
                                <p class="mt-4 text-lg text-gray-500">
                                    Pokud budete mít zájem, vypracujeme Vám 3D návrh a cenovou nabídku. Nic pro nás není nemožné. 
                                    Navrhneme a vyrobíme kuchyni přesně podle Vašich představ.
                                </p>
                                <div class="mt-6">
                                    <router-link :to="{ name: 'galleriesIndex', query:{category: 'kuchyne'}, hash: '#hero' }"
                                                 class="inline-flex px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                        Pokračovat na galerii
                                    </router-link>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12 sm:mt-16 lg:mt-0">
                        <div class="pl-4 -mr-48 sm:pl-6 md:-mr-16 lg:px-0 lg:m-0 lg:relative lg:h-full">
                            <img
                                class="w-full rounded-xl shadow-2xl ring-1 ring-black ring-opacity-5 lg:absolute lg:left-0 lg:h-full lg:w-auto lg:max-w-none"
                                src="/storage/images/initialize/kitchen2.jpg"
                                alt="kuchyně"/>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mycabinets" class="opacity-0 transition-all sm:duration-4000 duration-2000 mt-24">
                <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
                    <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-32 lg:max-w-none lg:mx-0 lg:px-0 lg:col-start-2">
                        <div>
                            <!-- <div>
                              <span class="h-12 w-12 rounded-md flex items-center justify-center bg-indigo-600">
                                <SparklesIcon class="h-6 w-6 text-white" aria-hidden="true" />
                              </span>
                            </div> -->
                            <div class="mt-6">
                                <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
                                    Vestavěné skříně
                                </h2>
                                <p class="mt-4 text-lg text-gray-500">
                                    Pokud budete mít zájem, vypracujeme Vám 3D návrh a cenovou nabídku. Nic pro nás není nemožné. 
                                    Vestavěné skříně navrhneme a vyrobíme přesně podle Vašich představ.
                                </p>
                                <div class="mt-6">
                                    <router-link :to="{ name: 'galleriesIndex', query:{category: 'vestavene_skrine'}, hash: '#hero' }"
                                                 class="inline-flex px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                        Pokračovat na galerii
                                    </router-link>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12 sm:mt-16 lg:mt-0 lg:col-start-1">
                        <div class="pr-4 -ml-48 sm:pr-6 md:-ml-16 lg:px-0 lg:m-0 lg:relative lg:h-full">
                            <img
                                class="w-full rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 lg:absolute lg:right-0 lg:h-full lg:w-auto lg:max-w-none"
                                src="/storage/images/initialize/skrine.jpg"
                                alt="vestavěné_skříně"/>
                        </div>
                    </div>
                </div>
            </div>
            <div id="mycommercial" class="opacity-0 transition-all sm:duration-4000 duration-2000 relative mt-24">
                <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
                    <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-16 lg:max-w-none lg:mx-0 lg:px-0">
                        <div>
                            <!-- <div>
                              <span class="h-12 w-12 rounded-md flex items-center justify-center bg-indigo-600">
                                <InboxIcon class="h-6 w-6 text-white" aria-hidden="true" />
                              </span>
                            </div> -->
                            <div class="mt-6">
                                <h2 class="text-3xl font-extrabold tracking-tight text-gray-900">
                                    Komerční prostory
                                </h2>
                                <p class="mt-4 text-lg text-gray-500">
                                    Vybavíme komeční prostory. Školky, školy, obecní úřady, hotely, restaurace a další...
                                </p>
                                <div class="mt-6">
                                    <router-link :to="{ name: 'galleriesIndex', query:{category: 'komercni_prostory'}, hash: '#hero' }"
                                                 class="inline-flex px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                        Pokračovat na galerii
                                    </router-link>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="mt-12 sm:mt-16 lg:mt-0">
                        <div class="pl-4 -mr-48 sm:pl-6 md:-mr-16 lg:px-0 lg:m-0 lg:relative lg:h-full">
                            <img
                                class="w-full rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 lg:absolute lg:left-0 lg:h-full lg:w-auto lg:max-w-none"
                                src="/storage/images/initialize/prostory.jpg"
                                alt="komerční_protstory"/>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="contact-as">
            <div id="myform"
                 class="opacity-0 transition-all sm:duration-4000 duration-2000 max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 mt-5">
                <div class="text-center">
                    <p class="mt-10 mb-12 text-4xl font-extrabold text-gray-900 sm:text-5xl sm:tracking-tight lg:text-6xl">
                        Kontaktujte nás!</p>
                </div>
                <div class="relative bg-white shadow-xl">
                    <h2 class="sr-only">Kontaktní informace</h2>

                    <div class="grid grid-cols-1 lg:grid-cols-3">
                        <!-- Contact information :class="[form ? 'transition-opacity' : 'opacity-0', 'max-w-7xl mx-auto py-16 px-4 sm:py-24 sm:px-6 lg:px-8 mt-5']-->
                        <div class="relative overflow-hidden py-10 px-6 bg-indigo-700 sm:px-10 xl:p-12">
                            <div class="absolute inset-0 pointer-events-none sm:hidden" aria-hidden="true">
                                <svg class="absolute inset-0 w-full h-full" width="343" height="388"
                                     viewBox="0 0 343 388" fill="none" preserveAspectRatio="xMidYMid slice"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M-99 461.107L608.107-246l707.103 707.107-707.103 707.103L-99 461.107z"
                                          fill="url(#linear1)" fill-opacity=".1"/>
                                    <defs>
                                        <linearGradient id="linear1" x1="254.553" y1="107.554" x2="961.66" y2="814.66"
                                                        gradientUnits="userSpaceOnUse">
                                            <stop stop-color="#fff" offset="0"/>
                                            <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <div
                                class="hidden absolute top-0 right-0 bottom-0 w-1/2 pointer-events-none sm:block lg:hidden"
                                aria-hidden="true">
                                <svg class="absolute inset-0 w-full h-full" width="359" height="339"
                                     viewBox="0 0 359 339" fill="none" preserveAspectRatio="xMidYMid slice"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M-161 382.107L546.107-325l707.103 707.107-707.103 707.103L-161 382.107z"
                                          fill="url(#linear2)" fill-opacity=".1"/>
                                    <defs>
                                        <linearGradient id="linear2" x1="192.553" y1="28.553" x2="899.66" y2="735.66"
                                                        gradientUnits="userSpaceOnUse">
                                            <stop stop-color="#fff" offset="0"/>
                                            <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <div class="hidden absolute top-0 right-0 bottom-0 w-1/2 pointer-events-none lg:block"
                                 aria-hidden="true">
                                <svg class="absolute inset-0 w-full h-full" width="160" height="678"
                                     viewBox="0 0 160 678" fill="none" preserveAspectRatio="xMidYMid slice"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path d="M-161 679.107L546.107-28l707.103 707.107-707.103 707.103L-161 679.107z"
                                          fill="url(#linear3)" fill-opacity=".1"/>
                                    <defs>
                                        <linearGradient id="linear3" x1="192.553" y1="325.553" x2="899.66" y2="1032.66"
                                                        gradientUnits="userSpaceOnUse">
                                            <stop stop-color="#fff" offset="0"/>
                                            <stop offset="1" stop-color="#fff" stop-opacity="0"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                            </div>
                            <h3 class="text-lg font-medium text-white">Kontaktní informace</h3>
                            <p class="mt-6 text-base text-indigo-50 max-w-3xl"></p>
                            <dl class="mt-8 space-y-6">
                                <dt><span class="sr-only">Adresa</span></dt>
                                <dd class="flex text-base text-indigo-50">
                                    <LibraryIcon class="flex-shrink-0 w-6 h-6 text-indigo-200" aria-hidden="true"/>
                                    <span class="ml-3"><a href="https://mapy.cz/s/hocezopale" target="_blank">Jeseník 790 00, Astur 185</a></span>
                                </dd>
                                <dt><span class="sr-only">Telefonní číslo</span></dt>
                                <dd class="flex text-base text-indigo-50">
                                    <PhoneIcon class="flex-shrink-0 w-6 h-6 text-indigo-200" aria-hidden="true"/>
                                    <span class="ml-3">607 238 514</span>
                                </dd>
                                <dd class="flex text-base text-indigo-50">
                                    <PhoneIcon class="flex-shrink-0 w-6 h-6 text-indigo-200" aria-hidden="true"/>
                                    <span class="ml-3">608 333 070</span>
                                </dd>
                                <dt><span class="sr-only">Email</span></dt>
                                <dd class="flex text-base text-indigo-50">
                                    <MailIcon class="flex-shrink-0 w-6 h-6 text-indigo-200" aria-hidden="true"/>
                                    <span class="ml-3">truwork@truwork.cz</span>
                                </dd>
                            </dl>
                            <ul role="list" class="mt-8 flex space-x-12">
                                <li>
                                    <a class="text-indigo-200 hover:text-indigo-100" href="#">
                                        <span class="sr-only">Facebook</span>
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                             xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" aria-hidden="true">
                                            <path
                                                d="M22.258 1H2.242C1.556 1 1 1.556 1 2.242v20.016c0 .686.556 1.242 1.242 1.242h10.776v-8.713h-2.932V11.39h2.932V8.887c0-2.906 1.775-4.489 4.367-4.489 1.242 0 2.31.093 2.62.134v3.037l-1.797.001c-1.41 0-1.683.67-1.683 1.653v2.168h3.362l-.438 3.396h-2.924V23.5h5.733c.686 0 1.242-.556 1.242-1.242V2.242C23.5 1.556 22.944 1 22.258 1"
                                                fill="currentColor"/>
                                        </svg>
                                    </a>
                                </li>
                            </ul>
                        </div>

                        <!-- Contact form -->
                        <div class="py-10 px-6 sm:px-10 lg:col-span-2 xl:p-12">
                            <form @submit.prevent="submit"
                                  class="mt-6 grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-8">
                                <div>
                                    <label for="first-name"
                                           class="block text-sm font-medium text-gray-900">Jméno</label>
                                    <div class="mt-1">
                                        <input v-model="form.name" type="text" name="first-name" id="first-name"
                                               autocomplete="given-name"
                                               class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('name')"
                                         v-text="form.errors.get('name')"></div>
                                </div>
                                <div>
                                    <label for="last-name"
                                           class="block text-sm font-medium text-gray-900">Příjmení</label>
                                    <div class="mt-1">
                                        <input v-model="form.surname" type="text" name="last-name" id="last-name"
                                               autocomplete="family-name"
                                               class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('surname')"
                                         v-text="form.errors.get('surname')"></div>
                                </div>
                                <div>
                                    <label for="email" class="block text-sm font-medium text-gray-900">Email</label>
                                    <div class="mt-1">
                                        <input v-model="form.email" id="email" name="email" type="email"
                                               autocomplete="email"
                                               class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('email')"
                                         v-text="form.errors.get('email')"></div>
                                </div>
                                <div>
                                    <div class="flex justify-between">
                                        <label for="phone" class="block text-sm font-medium text-gray-900">Telefonní
                                            číslo</label>
                                    </div>
                                    <div class="mt-1">
                                        <input v-model="form.phone" type="text" name="phone" id="phone"
                                               autocomplete="tel"
                                               class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md"
                                               aria-describedby="phone-optional" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('phone')"
                                         v-text="form.errors.get('phone')"></div>
                                </div>
                                <div class="sm:col-span-2">
                                    <label for="subject" class="block text-sm font-medium text-gray-900">Předmět</label>
                                    <div class="mt-1">
                                        <input v-model="form.subject" type="text" name="subject" id="subject"
                                               class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border-gray-300 rounded-md" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('subject')"
                                         v-text="form.errors.get('subject')"></div>
                                </div>
                                <div class="sm:col-span-2">
                                    <div class="flex justify-between">
                                        <label for="message"
                                               class="block text-sm font-medium text-gray-900">Text</label>
                                        <span id="message-max" class="text-sm text-gray-500">Maximálně 500 znaků</span>
                                    </div>
                                    <div class="mt-1">
                                        <textarea v-model="form.message" id="message" name="message" rows="4"
                                                  class="py-3 px-4 block w-full shadow-sm text-gray-900 focus:ring-indigo-500 focus:border-indigo-500 border border-gray-300 rounded-md"
                                                  aria-describedby="message-max" required/>
                                    </div>
                                    <div class="mt-1 text-sm text-red-600" v-if="form.errors.has('message')"
                                         v-text="form.errors.get('message')"></div>
                                </div>
                                <input v-model="form.title" type="hidden" id="title" name="title">
                                <div class="sm:col-span-2 sm:flex sm:justify-end">
                                    <button type="submit"
                                            class="mt-2 w-full inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto">
                                        Odeslat
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <Successful :open="showSuccessful" :message="message" @close="close"></Successful>
    <Exception :open="showException" :message="message" @close="close"></Exception>
</template>

<script>
import {onMounted, onUnmounted, reactive, ref} from 'vue'
import {InboxIcon, SparklesIcon, MailIcon, PhoneIcon, LibraryIcon} from '@heroicons/vue/outline'
import api from '../../../services/api'
import Form from '../../../utilities/form'
import Successful from '../../Successful.vue'
import Exception from '../../Exception.vue'

export default {
    components: {
        InboxIcon,
        SparklesIcon,
        MailIcon,
        PhoneIcon,
        LibraryIcon,
        Successful,
        Exception,
    },
    setup() {
        const form = reactive(new Form({
            title: null,
            name: null,
            surname: null,
            email: null,
            phone: null,
            subject: null,
            message: null
        }))
        const showSuccessful = ref(false)
        const showException = ref(false)
        const message = ref()

        let contactForm = null
        let commercial = null
        let cabinets = null
        let kitchens = null
        let aboutUs = null
        let elements = null

        function submit() {
            api.contact(form.objectToFormData())
                .then((response) => {
                    form.onSuccess()
                    showSuccessful.value = true
                    message.value = response.data.message
                }).catch(error => {
                if (error.response.data.errors) {
                    form.onFail(error.response.data.errors)
                } else {
                    showException.value = true
                    message.value = error.response.data.message
                }
            })
        }

        function close(){
            showSuccessful.value = false
            showException.value = false
        }

        function isInViewport(el) {
            let top = el.offsetTop
            let left = el.offsetLeft
            let width = el.offsetWidth
            let height = el.offsetHeight

            while (el.offsetParent) {
                el = el.offsetParent
                top += el.offsetTop
                left += el.offsetLeft
            }

            return (
                top < (window.pageYOffset + window.innerHeight) &&
                left < (window.pageXOffset + window.innerWidth) &&
                (top + height) > window.pageYOffset &&
                (left + width) > window.pageXOffset
            );
        }

        function onScroll() {
            for (let index = 0; index < elements.length; ++index) {
                if (isInViewport(elements[index])) {
                    elements[index].classList.remove('opacity-0')
                    elements[index].classList.add('opacity-1')
                }
            }
        }

        onMounted(() => {
            contactForm = document.querySelector('#myform')
            commercial = document.querySelector('#mycommercial')
            cabinets = document.querySelector('#mycabinets')
            kitchens = document.querySelector('#mykitchens')
            aboutUs = document.querySelector('#about-us')
            elements = [contactForm, commercial, cabinets, kitchens, aboutUs]

            document.addEventListener('scroll', onScroll)

            //Slider
            const sliderItems = document.querySelector('#slider-items')
            const sliderItem = document.querySelectorAll('.slider-item')
            const total = sliderItem.length
            let curr = -1

            function carousel() {
                curr = ++curr % total
                anim()
                setTimeout(carousel, 6000)
            }

            function anim() {
                sliderItems.style.transform = ('translateX(' + -(curr * 100) + '%')
            }

            carousel()

        })
        onUnmounted(() => {
            document.removeEventListener('scroll', onScroll)
        })

        return {
            form,
            showSuccessful,
            showException,
            message,
            submit,
            close
        }
    },
}
</script>
<style scoped>
.slider-items {
    display: flex; /* Use flex */
    flex-flow: row nowrap;
    height: inherit;
    transition: transform 2s; /* Don't use margin, use transform */
}

.slider-item {
    flex: 0 0 100%;
    height: inherit;
}
</style>
